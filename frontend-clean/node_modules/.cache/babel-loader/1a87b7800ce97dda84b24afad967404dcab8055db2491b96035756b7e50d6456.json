{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hemac\\\\OneDrive\\\\Desktop\\\\frontend-clean\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/App.js\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, Link } from 'react-router-dom';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport UserDashboardPage from './pages/UserDashboardPage';\nimport AdminDashboardPage from './pages/AdminDashboardPage';\nimport HomePage from './pages/HomePage';\nimport { AuthProvider, useAuth } from './contexts/UserAuthContext';\nimport './index.css';\n\n// PrivateRoute component to protect routes based on authentication and role\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  children,\n  roles\n}) => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: \"Loading application...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 16\n    }, this);\n  }\n  if (roles && !roles.includes(user.role)) {\n    alert('Access Denied. You do not have the required role.');\n    if (user.role === 'ADMIN') {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/admin-dashboard\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 20\n      }, this);\n    } else if (user.role === 'USER') {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/user-dashboard\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n};\n\n// Main App component wrapping everything\n_s(PrivateRoute, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n_c = PrivateRoute;\nfunction App() {\n  _s2();\n  const {\n    user,\n    loading\n  } = useAuth();\n  useEffect(() => {\n    if (!loading && user) {\n      const currentPath = window.location.pathname;\n      if (currentPath === '/login' || currentPath === '/register' || currentPath === '/') {\n        if (user.role === 'ADMIN') {\n          window.location.href = '/admin-dashboard';\n        } else if (user.role === 'USER') {\n          window.location.href = '/user-dashboard';\n        }\n      }\n    }\n  }, [user, loading]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/user-dashboard\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          roles: ['USER', 'ADMIN'],\n          children: /*#__PURE__*/_jsxDEV(UserDashboardPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-dashboard\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          roles: ['ADMIN'],\n          children: /*#__PURE__*/_jsxDEV(AdminDashboardPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"404 - Page Not Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Go Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 101\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 98\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"ACDYXQYZdnPVglP3FnJ0WyRpPXA=\", false, function () {\n  return [useAuth];\n});\n_c2 = App;\nfunction AppWrapper() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n_c3 = AppWrapper;\nexport default AppWrapper;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PrivateRoute\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"AppWrapper\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Link","LoginPage","RegisterPage","UserDashboardPage","AdminDashboardPage","HomePage","AuthProvider","useAuth","jsxDEV","_jsxDEV","PrivateRoute","children","roles","_s","user","loading","className","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","includes","role","alert","_c","App","_s2","currentPath","window","location","pathname","href","path","element","_c2","AppWrapper","_c3","$RefreshReg$"],"sources":["C:/Users/hemac/OneDrive/Desktop/frontend-clean/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, Link } from 'react-router-dom';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport UserDashboardPage from './pages/UserDashboardPage';\nimport AdminDashboardPage from './pages/AdminDashboardPage';\nimport HomePage from './pages/HomePage';\nimport { AuthProvider, useAuth } from './contexts/UserAuthContext';\nimport './index.css';\n\n// PrivateRoute component to protect routes based on authentication and role\nconst PrivateRoute = ({ children, roles }) => {\n    const { user, loading } = useAuth();\n\n    if (loading) {\n        return <div className=\"container\">Loading application...</div>;\n    }\n\n    if (!user) {\n        return <Navigate to=\"/login\" replace />;\n    }\n\n    if (roles && !roles.includes(user.role)) {\n        alert('Access Denied. You do not have the required role.');\n        if (user.role === 'ADMIN') {\n            return <Navigate to=\"/admin-dashboard\" replace />;\n        } else if (user.role === 'USER') {\n            return <Navigate to=\"/user-dashboard\" replace />;\n        }\n        return <Navigate to=\"/login\" replace />;\n    }\n\n    return children;\n};\n\n// Main App component wrapping everything\nfunction App() {\n    const { user, loading } = useAuth();\n\n    useEffect(() => {\n        if (!loading && user) {\n            const currentPath = window.location.pathname;\n            if (currentPath === '/login' || currentPath === '/register' || currentPath === '/') {\n                if (user.role === 'ADMIN') {\n                    window.location.href = '/admin-dashboard';\n                } else if (user.role === 'USER') {\n                    window.location.href = '/user-dashboard';\n                }\n            }\n        }\n    }, [user, loading]);\n\n    return (\n        <Router>\n            <Routes>\n                <Route path=\"/\" element={<HomePage />} />\n                <Route path=\"/login\" element={<LoginPage />} />\n                <Route path=\"/register\" element={<RegisterPage />} />\n\n                <Route\n                    path=\"/user-dashboard\"\n                    element={\n                        <PrivateRoute roles={['USER', 'ADMIN']}>\n                            <UserDashboardPage />\n                        </PrivateRoute>\n                    }\n                />\n                <Route\n                    path=\"/admin-dashboard\"\n                    element={\n                        <PrivateRoute roles={['ADMIN']}>\n                            <AdminDashboardPage />\n                        </PrivateRoute>\n                    }\n                />\n\n                <Route path=\"*\" element={<div className=\"container\"><h2>404 - Page Not Found</h2><p><Link to=\"/\">Go Home</Link></p></div>} />\n            </Routes>\n        </Router>\n    );\n}\n\nfunction AppWrapper() {\n    return (\n        <AuthProvider>\n            <App />\n        </AuthProvider>\n    );\n}\n\nexport default AppWrapper;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}